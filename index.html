<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A'tsimaani</title>

  <link rel="stylesheet" href="main.css" />
  <link rel="icon" type="image/x-icon" href="img/logo.ico">
</head>

<body>

  <!-- OFF-CANVAS MENU (CSS only using :target) -->
  <nav class="menu" id="menu" aria-label="Site menu" aria-hidden="true">
    <div class="menu__inner">
      <div class="menu__grid">

        <!-- Left column: direct links -->
        <div class="menu__col menu__col--left">
          <div class="menu__top">
            <p class="menu__title">Menu</p>
            <a class="menu__close" href="#close" aria-label="Close menu">✕</a>
          </div>

          <a class="menu__direct" href="program/">Program</a>
          <a class="menu__direct" href="theme/">Theme</a>
          <a class="menu__direct" href="registration/">Registration</a>
          <a class="menu__direct" href="contact/">Contact</a>

          <div class="menu__spacer"></div>

          <p class="menu__label">Keynote speakers</p>
          <p class="menu__label">For attendees</p>
        </div>

        <!-- Right column: only sections that actually have subpages -->
        <div class="menu__col menu__col--right">
          <p class="menu__goto">GO TO</p>

          <div class="menu__panel">
            <div class="menu__group">
              <p class="menu__panelTitle">Keynote speakers</p>
              <div class="menu__links">
                <a class="menu__linkItem" href="keynote-speakers/">All keynote speakers</a>
                <!-- Later add: keynote-speakers/name/ -->
              </div>
            </div>

            <div class="menu__group">
              <p class="menu__panelTitle">For attendees</p>
              <div class="menu__links">
                <a class="menu__linkItem" href="for-attendees/">Overview</a>
                <a class="menu__linkItem" href="for-attendees/accommodations/">Accommodations</a>
                <a class="menu__linkItem" href="for-attendees/financial-support/">Financial support</a>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </nav>

  <!-- MENU OVERLAY (CSS only) -->
  <a class="menu-overlay" href="#close" aria-label="Close menu overlay"></a>
  <div id="close" aria-hidden="true"></div>

  <!-- SEARCH MODAL (JS only for search) -->
  <div class="search" id="search" aria-hidden="true" role="dialog" aria-label="Search site">
    <div class="search__inner">
      <div class="search__top">
        <p class="search__title">Search</p>
        <button class="search__close" id="searchClose" type="button" aria-label="Close search">✕</button>
      </div>

      <label class="sr-only" for="searchInput">Search</label>
      <input
        id="searchInput"
        class="search__input"
        type="search"
        placeholder="Search the site…"
        autocomplete="off"
      />

      <div class="search__results" id="searchResults" aria-live="polite"></div>
    </div>
  </div>

  <div class="search-overlay" id="searchOverlay" aria-hidden="true"></div>

  <!-- PAGE CONTENT -->
  <div class="layout" id="layout">

    <!-- TOP BAR -->
    <header class="topbar" role="banner">
      <div class="topbar__left">
        <!-- CSS-only hamburger -->
        <a class="hamburger" href="#menu" aria-label="Open menu">
          <span aria-hidden="true">☰</span>
        </a>

        <!-- Search icon (JS opens modal) -->
        <button class="navicon" id="searchBtn" type="button" aria-label="Search">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M10.5 3a7.5 7.5 0 1 0 4.61 13.42l4.24 4.24 1.41-1.41-4.24-4.24A7.5 7.5 0 0 0 10.5 3zm0 2a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11z"/>
          </svg>
        </button>

        <a class="navlink" href="./" aria-current="page">Home</a>
      </div>

      <div class="topbar__right">
        <a class="navlink" href="#" data-nav="language">EN</a>
        <a class="navlink" href="about/">About</a>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero" aria-label="Conference hero">
      <div class="hero-inner">
        <p class="kicker">Lethbridge • 2026</p>
        <h1 class="title">A'tsimaani</h1>
        <p class="subtitle">Slogan.</p>
      </div>
    </section>

    <!-- MAIN -->
    <main>
      <div class="wrap">
        <p class="blurb">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum 
          justo eros, eu maximus felis sodales non. Sed vitae sagittis lacus, et suscipit 
          tortor. Curabitur vulputate venenatis nibh, et egestas erat molestie vel. Cras 
          lobortis tempor elit sit amet auctor. Phasellus non bibendum nisi. Curabitur congue, 
          nunc fringilla vehicula blandit, lorem ante luctus nibh, eu mattis enim elit at dolor. 
          Nam ornare in nulla a elementum. Sed condimentum consectetur ultrices. Fusce velit 
          massa, dictum ac risus faucibus, egestas pretium nibh.
        </p>

        <h2 class="section-title">Explore</h2>

        <div class="cards">
          <a class="card" href="keynote-speakers/">
            <div class="card-media" style='background-image:url("assets/card-keynotes.jpg")'></div>
            <div class="card-body">
              <h3 class="card-title">Keynote speakers</h3>
              <p class="card-text">Meet the keynote speakers and see their abstracts and bios.</p>
              <div class="card-meta"><span>Speakers</span><span aria-hidden="true">→</span></div>
            </div>
          </a>

          <a class="card" href="for-attendees/">
            <div class="card-media" style='background-image:url("assets/card-attendees.jpg")'></div>
            <div class="card-body">
              <h3 class="card-title">For attendees</h3>
              <p class="card-text">Travel info, accommodations, accessibility, and support.</p>
              <div class="card-meta"><span>Practical info</span><span aria-hidden="true">→</span></div>
            </div>
          </a>

          <a class="card" href="program/">
            <div class="card-media" style='background-image:url("assets/card-program.jpg")'></div>
            <div class="card-body">
              <h3 class="card-title">Program</h3>
              <p class="card-text">Browse the schedule, sessions, and events.</p>
              <div class="card-meta"><span>Schedule</span><span aria-hidden="true">→</span></div>
            </div>
          </a>

          <a class="card" href="registration/">
            <div class="card-media" style='background-image:url("assets/card-registration.jpg")'></div>
            <div class="card-body">
              <h3 class="card-title">Registration</h3>
              <p class="card-text">Register, fees, deadlines, and confirmation details.</p>
              <div class="card-meta"><span>Sign up</span><span aria-hidden="true">→</span></div>
            </div>
          </a>
        </div>
      </div>
    </main>

    <!-- SIMPLE FOOTER -->
    <footer class="site-footer">
      <div class="footer-inner">
        <p class="footer-text">© <span id="year"></span> Conference Name. All rights reserved.</p>
        <a class="footer-contact" href="contact/">Contact</a>
      </div>
    </footer>

  </div><!-- /.layout -->

  <!-- JS ONLY FOR SEARCH -->
  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Search modal
    const body = document.body;
    const searchBtn = document.getElementById('searchBtn');
    const search = document.getElementById('search');
    const searchClose = document.getElementById('searchClose');
    const searchOverlay = document.getElementById('searchOverlay');
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');

    // Add pages here as you create them
    const searchIndex = [
      { title: "Home", url: "./", keywords: "conference homepage" },
      { title: "About", url: "about/", keywords: "about theme mission" },
      { title: "Program", url: "program/", keywords: "schedule sessions panels" },
      { title: "Registration", url: "registration/", keywords: "register fees deadlines" },
      { title: "Contact", url: "contact/", keywords: "email contact" },
      { title: "Keynote speakers", url: "keynote-speakers/", keywords: "keynotes speakers" },
      { title: "For attendees", url: "for-attendees/", keywords: "travel accessibility accommodations support" },
      { title: "Accommodations", url: "for-attendees/accommodations/", keywords: "hotel lodging stay" },
      { title: "Financial support", url: "for-attendees/financial-support/", keywords: "funding bursary travel grant" }
    ];

    function openSearch() {
      body.classList.add('search-open');
      search.setAttribute('aria-hidden', 'false');
      searchOverlay.setAttribute('aria-hidden', 'false');
      searchInput.value = '';
      searchResults.innerHTML = '';
      searchInput.focus();
    }

    function closeSearch() {
      body.classList.remove('search-open');
      search.setAttribute('aria-hidden', 'true');
      searchOverlay.setAttribute('aria-hidden', 'true');
      searchBtn.focus();
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[s]));
    }

    function runSearch(q){
      const query = q.trim().toLowerCase();
      if(!query){
        searchResults.innerHTML = "";
        return;
      }

      const results = searchIndex.filter(item => {
        const hay = (item.title + " " + item.keywords).toLowerCase();
        return hay.includes(query);
      }).slice(0, 12);

      if(results.length === 0){
        searchResults.innerHTML = `<p class="search__empty">No results for “${escapeHtml(q)}”.</p>`;
        return;
      }

      searchResults.innerHTML = `
        <ul class="search__list">
          ${results.map(r => `
            <li class="search__item">
              <a class="search__link" href="${r.url}">${escapeHtml(r.title)}</a>
              <span class="search__url">${escapeHtml(r.url)}</span>
            </li>
          `).join("")}
        </ul>
      `;
    }

    searchBtn.addEventListener('click', openSearch);
    searchClose.addEventListener('click', closeSearch);
    searchOverlay.addEventListener('click', closeSearch);
    searchInput.addEventListener('input', (e) => runSearch(e.target.value));

    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && body.classList.contains('search-open')) closeSearch();
    });
  </script>

</body>
</html>
